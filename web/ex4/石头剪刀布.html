<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>石头剪刀布</title>
    <script src="../js/jquery-3.6.1.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            // 计算胜率
            var win = 0, cnt = 0, winRate = 0.0;
            $(":image").click(function () {
                cnt++;
                var v = $(this).val();
                var computer = 1 + Math.floor(Math.random() * 3);
                var res = "";
                switch (v - computer) {
                    case 0:
                        res = "平手";
                        break;
                    case -1:
                    case 2:
                        res = "赢了";
                        win++;
                        break;
                    case -2:
                    case 1:
                        res = "输了";
                }
                winRate = win / cnt;
                // 输出胜率信息，保留两位小数
                $("span").text("胜率：" + winRate.toFixed(2) + " 胜利：" + win + " 回合数：" + cnt);
                // 输出回合输赢
                $("ol").append("<li>" + res + "</li>");
            });
        });
    </script>
</head>
<body>
<div>
    <!--阻止提交，防止刷新-->
    <form onsubmit="return false;">
        <input type="image" value="1" alt="图片无法加载" style="width:60px;height:60px" src="../img/stone.png"/>
        <input type="image" value="2" alt="图片无法加载" style="width:60px;height:60px" src="../img/scissors.png"/>
        <input type="image" value="3" alt="图片无法加载" style="width:60px;height:60px" src="../img/cloth.png"/>
        <br>
    </form>
</div>
<span></span>
<ol></ol>
</body>
</html>